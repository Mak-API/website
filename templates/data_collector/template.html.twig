{% extends '@WebProfiler/Profiler/layout.html.twig' %}

{% block toolbar %}
    {% set icon %}
        <i class="material-icons" style="float:left; margin-top: 4px;">people_outline</i>
        <span class="sf-toolbar-value">
            {{ collector.impersonateUser }}
        </span>
    {% endset %}

    {% set text %}
        {# this is the content displayed when hovering the mouse over
           the toolbar panel #}
        <div class="sf-toolbar-info-piece">
            <p>collector</p>
            {{  dump(collector) }}
            <p>collector.impersonateArrayUser</p>
            {{  dump(collector.impersonateArrayUser) }}
            <p>collector.impersonateUser</p>
            {{  dump(collector.impersonateUser) }}
            {% if collector %}
                <form method="POST" action="#">
                    <label for="impersonate-select-user">User list</label>
                    <select name="impersonate-select-user" id="impersonate-select-user">
                        {% for user in collector.impersonateArrayUser %}
                            <option value="{{ user.id }}">{{ user.login }}</option>
                        {% endfor %}
                    </select>
                </form>
            {% else %}
                <span>No user found</span>
            {% endif %}
        </div>
    {% endset %}

    {# the 'link' value set to 'false' means that this panel doesn't
       show a section in the web profiler #}
    {{ include('@WebProfiler/Profiler/toolbar_item.html.twig', { 'link': false }) }}
{% endblock %}